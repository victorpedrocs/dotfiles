
    Follow the instructions to cmake, make, sudo make install
    On Ubuntu/Debian, these executables are now in /usr/local/bin/caps2esc

    sudoedit /etc/udevmon.yaml and then put this in:

    - JOB: "intercept -g $DEVNODE | caps2esc | uinput -d $DEVNODE"
      DEVICE:
        EVENTS:
          EV_KEY: [KEY_CAPSLOCK, KEY_ESC]

    sudoedit /etc/systemd/system/udevmon.service and put this in:

    [Unit]
    Description=udevmon
    Wants=systemd-udev-settle.service
    After=systemd-udev-settle.service

    [Service]
    ExecStart=/usr/bin/nice -n -20 /usr/bin/udevmon -c /etc/udevmon.yaml

    [Install]
    WantedBy=multi-user.target

    sudo systemctl enable --now udevmon
